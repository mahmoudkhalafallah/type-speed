{"version":3,"sources":["components/InfoList.tsx","components/Quote.tsx","components/Racer.tsx","constants.ts","views/Game.tsx","views/History.tsx","views/Login.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["StyledInfoList","styled","ul","StyledInfoItem","li","WpmIndicator","span","wpm","InfoList","endGame","gameOver","cp","historyId","useState","minutes","seconds","time","setTime","stopGame","useCallback","timerHandle","clearInterval","useEffect","setInterval","t","length","to","StyledQuote","div","GreenText","RedText","ActiveText","Quote","data","index","isValid","slice","join","UserEntry","input","NoInteractions","GameContainer","section","Racer","setWpm","setCp","quoteText","setQuoteText","typedText","setTypedText","wordIndex","setWordIndex","typedTextValiditiy","setTypedTextValiditiy","secondsElapsed","setSecondsElapsed","fetch","then","res","text","replace","split","calculateCp","parseInt","toFixed","s","typedChars","value","onChange","e","val","target","startsWith","nativeEvent","c","readOnly","GameOver","h2","PlayAgainBtn","button","HistoryContainer","HistoryTable","table","Game","location","setGameOver","restartGame","setRestartGame","completionPercent","setCompletionPercent","gameRecordsHistoryId","setGameRecordsHistoryId","method","headers","body","JSON","stringify","json","splittedText","uri","catch","err","console","log","className","onClick","state","history","map","h","date","Date","key","getMonth","getDate","getFullYear","getHours","getMinutes","RecordList","RecordItem","RecordNum","b","History","gameRecordsHistoryData","setGameRecordsHistoryData","dataLoaded","setDataLoaded","finally","FormContainer","LoginForm","form","FormGroup","BtnStyle","css","SubmitBtn","PlayBtn","Link","Separator","users","Login","useForm","register","handleSubmit","errors","setError","onSubmit","user","find","username","password","navigate","name","ref","required","placeholder","type","GameName","h1","App","path","noThrow","default","from","Boolean","window","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.1bb1aa77.chunk.js","sourcesContent":["import React, { useEffect, useState, useCallback } from 'react'\nimport styled from 'styled-components'\nimport { Link } from '@reach/router'\n\nconst StyledInfoList = styled.ul`\nalign-self: flex-end;\ntext-align: end;\nmargin: 25px 0;\nlist-style: none;\nfont-family: \"capture_it\";\n`\nconst StyledInfoItem = styled.li`\nmargin-bottom: 5px;\nspan {\n    min-width: 70px;\n    display: inline-block;\n}\na {\n    color: #3d3d3d;\n}\n`\n\nconst WpmIndicator = styled.span`\n    color: ${({ wpm }: { wpm: number }) => {\n        if (wpm > 35) {\n            return 'green'\n        } else if (wpm <= 35 && wpm > 23) {\n            return '#de5615'\n        } else {\n            return 'red'\n        }\n    }};\n`\n\ninterface Props {\n    endGame: React.Dispatch<React.SetStateAction<boolean>>;\n    gameOver: boolean;\n    wpm: number;\n    cp: number;\n    historyId: string\n}\n\nconst InfoList: React.FC<Props> = ({ endGame, gameOver, wpm, cp, historyId }) => {\n    const [time, setTime] = useState({ minutes: 3, seconds: 0 })\n\n    const stopGame = useCallback((timerHandle: NodeJS.Timeout) => {\n        clearInterval(timerHandle)\n        endGame(true)\n    }, [endGame])\n\n\n    useEffect(() => {\n        const timerHandle = setInterval(() => {\n            if (time.seconds > 0) {\n                setTime(t => ({ minutes: t.minutes, seconds: t.seconds - 1 }))\n            } else if (time.seconds === 0) {\n                if (time.minutes === 0) {\n                    stopGame(timerHandle)\n                    return\n                }\n                setTime(t => ({ minutes: t.minutes - 1, seconds: 59 }))\n            }\n        }, 1000)\n\n        if (gameOver) {\n            stopGame(timerHandle)\n            return\n        }\n\n        return () => {\n            clearInterval(timerHandle)\n        }\n    }, [gameOver, stopGame, time.minutes, time.seconds])\n\n    return <StyledInfoList>\n        <StyledInfoItem>\n            Time:\n            <span>\n                {time.minutes}:{time.seconds > 9 ? time.seconds : `0${time.seconds}`}\n            </span>\n        </StyledInfoItem>\n        <StyledInfoItem>\n            Words Per Minute:\n            <WpmIndicator wpm={wpm}>{wpm} WPM</WpmIndicator>\n        </StyledInfoItem>\n        {gameOver && <StyledInfoItem>\n            Completion Percentage:\n            <span>{cp}%</span>\n        </StyledInfoItem>}\n        {(historyId.length > 0) && <StyledInfoItem>Find your record <Link to={`/history/${historyId}`}>here</Link></StyledInfoItem>}\n    </StyledInfoList>\n}\n\nexport default InfoList\n","import React from 'react'\nimport styled from \"styled-components\"\n\nconst StyledQuote = styled.div`\nwidth: 100%;\npadding: 15px;\nfont-size: 20px;\nbackground: #e7e7e7;\nuser-select: none;\n`\n\nconst GreenText = styled.span`\ncolor: green;\n`\n\nconst RedText = styled.span`\nbackground: #e34d4d;\ncolor: #fff;\n`\n\nconst ActiveText = styled.span`\ntext-decoration: underline;\n`\n\ninterface Props {\n    data: string[];\n    index: number;\n    length: number;\n    isValid: boolean;\n}\n\nconst Quote: React.FC<Props> = ({ data, index, length, isValid }) => <StyledQuote>\n    {data.length && data.slice(0, index).join(\" \")}\n    {(index > 0) && \" \"}\n    {data[index] && (isValid ? <GreenText>{data[index].slice(0, length)}</GreenText> : <RedText>{data[index].slice(0, length)}</RedText>)}\n    {data[index] && <ActiveText>{data[index].slice(length)}</ActiveText>}\n    {\" \"}\n    {data.length && data.slice(index + 1).join(\" \")}\n</StyledQuote>\n\nexport default Quote","import React, { useEffect, useState } from 'react'\n\nimport styled from 'styled-components'\nimport Quote from './Quote'\nimport { QUOTE_URL } from '../constants'\n\nconst UserEntry = styled.input`\nwidth: 100%;\npadding: 14px;\nmargin-top: 15px;\nfont-size: 20px;\ndisplay: block;\nborder: 1px solid #ffb800;\n`\n\nconst NoInteractions = styled.div`\nbackground: rgba(238, 238, 238, 0.5);\nwidth: 100%;\nheight: 100%;\nposition: absolute;\n`\nconst GameContainer = styled.section`\nposition: relative;\n`\n\ninterface Props {\n    gameOver: boolean;\n    endGame: React.Dispatch<React.SetStateAction<boolean>>;\n    setWpm: React.Dispatch<React.SetStateAction<number>>;\n    setCp: React.Dispatch<React.SetStateAction<number>>;\n}\n\nconst Racer: React.FC<Props> = ({ gameOver, endGame, setWpm, setCp }) => {\n    const [quoteText, setQuoteText] = useState([''])\n    const [typedText, setTypedText] = useState('')\n    const [wordIndex, setWordIndex] = useState(0)\n    const [typedTextValiditiy, setTypedTextValiditiy] = useState(false)\n    const [secondsElapsed, setSecondsElapsed] = useState(0)\n\n    const handleChange = (e: any) => {\n        const val = e.target.value\n        setTypedTextValiditiy(val.length > 0 && quoteText[wordIndex].startsWith(val))\n\n        if (e.nativeEvent.data === ' ' && quoteText[wordIndex] === val.slice(0, -1)) {\n            setTypedText('')\n            if (wordIndex === quoteText.length - 1) {\n                endGame(true)\n            }\n            setWordIndex(c => c + 1)\n        } else {\n\n            setTypedText(val)\n        }\n    }\n\n    useEffect(() => {\n        fetch(QUOTE_URL).then(res => res.text()).then((data: string) => {\n            data = data.replace(/\\s{2,}/g, ' ') // remove extra spaces\n            setQuoteText(data.split(\" \"))\n        })\n    }, [])\n\n    useEffect(() => {\n        const timerHandle = setInterval(() => {\n            if (gameOver) {\n                clearInterval(timerHandle)\n                const calculateCp = (quoteText.slice(0, wordIndex).join(' ').length / quoteText.join(' ').length) * 100\n                setCp(parseInt(calculateCp.toFixed()))\n                return\n            }\n            setSecondsElapsed(s => s + 1)\n            const typedChars = quoteText.slice(0, wordIndex).join(' ').length\n            if (secondsElapsed > 0) {\n                setWpm(parseInt(((typedChars / 5) / (secondsElapsed / 60)).toFixed()))\n            }\n        }, 1000)\n        return () => {\n            clearInterval(timerHandle)\n        }\n    }, [gameOver, quoteText, secondsElapsed, setCp, setWpm, wordIndex])\n\n    return (\n        <GameContainer>\n            {gameOver && <NoInteractions />}\n            {(quoteText.length > 1) &&\n                <>\n                    <Quote data={quoteText} index={wordIndex} length={typedText.length} isValid={typedTextValiditiy} />\n                    <UserEntry value={typedText} onChange={handleChange} readOnly={gameOver} />\n                </>\n            }\n        </GameContainer>\n    )\n}\n\nexport default Racer","export const HISTORY_URL = 'https://api.myjson.com/bins'\nexport const QUOTE_URL = 'https://baconipsum.com/api/?type=meat-and-filler&paras=1&format=text'","import React, { useState, useEffect } from 'react'\nimport styled from 'styled-components'\nimport InfoList from '../components/InfoList'\nimport Racer from '../components/Racer'\nimport { HISTORY_URL } from '../constants'\nimport { RouteComponentProps } from \"@reach/router\" // eslint-disable-line no-unused-vars\n\nconst GameOver = styled.h2`\ntransition: 0.2s ease;\ncolor: #c90000;\nfont-size: 40px;\nz-index: 5;\ntext-align: center;\nfont-weight: 100;\nfont-family: \"capture_it\";\n`\n\nconst PlayAgainBtn = styled.button`\ndisplay: block;\nmargin: 0 auto;\nbackground: #000;\nborder: 0;\npadding: 15px 20px;\ncolor: #fcc944;\nfont-size: 20px;\ncursor: pointer;\ntransition: 0.3s ease;\nfont-family: \"capture_it\";\n&:hover {\n    background: #1c9d1c;\n    color: #fff;\n    transform: scale(1.1);\n}\n`\n\nconst HistoryContainer = styled.section`\nbackground: #fff;\npadding: 20px;\nmargin: 50px 0;\n.section-header {\n    margin: 0;\n}\n`\n\nconst HistoryTable = styled.table`\n    width: 100%;\n    margin-top: 25px;\n    th, td {\n        text-align: start;\n        padding: 10px 5px;\n    }\n    tbody tr:nth-child(odd) {\n        background: #eee;\n    }\n`\n\nconst Game: React.FC<RouteComponentProps> = ({ location }) => {\n    const [gameOver, setGameOver] = useState(false)\n    const [restartGame, setRestartGame] = useState(false)\n    const [wpm, setWpm] = useState(0)\n    const [completionPercent, setCompletionPercent] = useState(0)\n    const [gameRecordsHistoryId, setGameRecordsHistoryId] = useState('')\n    useEffect(() => {\n        if (gameOver && completionPercent > 0) {\n            fetch(HISTORY_URL,\n                {\n                    method: 'POST',\n                    headers: { 'Content-Type': 'application/json' },\n                    body: JSON.stringify({\n                        wpm,\n                        cp: completionPercent\n                    })\n                }\n            ).then(res => res.json()).then((data: { uri: string }) => {\n                const splittedText = data.uri.split('/')\n                setGameRecordsHistoryId(splittedText[splittedText.length - 1])\n            })\n                .catch((err) => {\n                    console.log(err)\n                })\n        }\n    }, [gameOver, completionPercent, wpm])\n\n\n    useEffect(() => {\n        if (restartGame) {\n            setGameOver(false)\n            setRestartGame(false)\n        }\n    }, [restartGame])\n\n    return (\n        <div className=\"Game\">\n            {gameOver && <>\n                <GameOver>Game Over</GameOver>\n                <PlayAgainBtn onClick={() => { setRestartGame(true) }}>Play Again !</PlayAgainBtn>\n            </>}\n            {\n                !restartGame &&\n                <>\n                    <InfoList gameOver={gameOver} endGame={setGameOver} wpm={wpm} cp={completionPercent} historyId={gameRecordsHistoryId} />\n                    <Racer gameOver={gameOver} endGame={setGameOver} setWpm={setWpm} setCp={setCompletionPercent} />\n                </>\n            }\n            {\n                (location && location.state && location.state.history) ? <HistoryContainer>\n                    <h2 className='section-header'>History</h2>\n                    <HistoryTable>\n                        <thead>\n                            <tr>\n                                <th />\n                                <th>Date</th>\n                                <th>WPM</th>\n                                <th>Completion Percent</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            {location.state.history.map(\n                                (h: any, index: number) => {\n                                    const date = new Date(+h.date)\n                                    return <tr key={h.date}>\n                                        <td>{index + 1}</td>\n                                        <td>{`\n                                            ${date.getMonth()}-${date.getDate()}-${date.getFullYear()}\n                                             ${date.getHours()}:${date.getMinutes()}\n                                            `}</td>\n                                        <td>{h.wpm}</td>\n                                        <td>{h.cp}</td>\n                                    </tr>\n                                }\n                            )}\n                        </tbody>\n                    </HistoryTable>\n                </HistoryContainer> : null\n            }\n        </div>\n    )\n}\n\nexport default Game\n","import React, { useEffect, useState } from 'react'\nimport { HISTORY_URL } from '../constants'\nimport { RouteComponentProps } from \"@reach/router\" // eslint-disable-line no-unused-vars\nimport styled from 'styled-components'\n\ndeclare interface Props extends RouteComponentProps {\n    historyId?: string\n}\n\nconst RecordList = styled.ul`\nlist-style: none;\npadding: 0;\n`\n\nconst RecordItem = styled.li`\ndisplay: flex;\njustify-content: space-between;\nfont-size: 20px;\n`\nconst RecordNum = styled.b`\nmargin-left: 15px;\n`\n\nconst History: React.FC<Props> = ({ historyId }) => {\n\n    const [gameRecordsHistoryData, setGameRecordsHistoryData] = useState({ \"wpm\": \"\", \"cp\": \"\" })\n    const [dataLoaded, setDataLoaded] = useState(false)\n\n\n    useEffect(() => {\n        if (historyId && historyId.length > 0) {\n            fetch(`${HISTORY_URL}/${historyId}`)\n                .then(res => res.json())\n                .then((data: { \"wpm\": string, \"cp\": string }) => {\n                    setGameRecordsHistoryData(data)\n                }).finally(() => {\n                    setDataLoaded(true)\n                })\n        }\n    }, [historyId])\n\n    return <>\n        {(gameRecordsHistoryData.wpm && gameRecordsHistoryData.cp) ?\n            <RecordList>\n                <RecordItem>Words per minute: <RecordNum>{gameRecordsHistoryData.wpm}</RecordNum>WPM</RecordItem>\n                <RecordItem>Completion Percentage: <RecordNum>{gameRecordsHistoryData.cp}</RecordNum> %</RecordItem>\n            </RecordList> :\n            dataLoaded ? <h2>No Records</h2> : <span>Loading</span>\n        }\n    </>\n}\n\nexport default History","import React from \"react\"\nimport { RouteComponentProps, Link, navigate } from \"@reach/router\" // eslint-disable-line no-unused-vars\nimport useForm from 'react-hook-form'\nimport styled, { css } from \"styled-components\"\n\nconst FormContainer = styled.section`\ndisplay: flex;\nflex-direction: column;\nbackground: #fff;\npadding: 20px;\nmargin-top: 20px;\nbox-shadow: 0px 4px 5px rgba(0, 0, 0, 0.5);\n.err-msg {\n    color: red;\n    margin: 5px 0;\n}\n`\n\nconst LoginForm = styled.form`\ndisplay: flex;\nflex-direction: column;\n`\n\nconst FormGroup = styled.div`\n    margin-bottom: 20px;\n    input {\n        padding: 15px;\n        border: 1px solid #eee;\n        background: #eee;\n    }\n`\n\nconst BtnStyle = css`\ncolor: #fff;\npadding: 15px;\nborder: 0;\ncursor: pointer;\ntransition: 0.3s ease-in-out;\ntext-align: center;\nfont-family: \"capture_it\";\n`\n\n\nconst SubmitBtn = styled.button`\n${BtnStyle};\nbackground: #0f9b0f;\n&:hover {\n    background: #0d6e0d;\n}\n`\n\nconst PlayBtn = styled(Link)`\n${BtnStyle};\nbackground: #9c1515;\ntext-decoration: none;\n&:hover {\n    background: #6e0d0d;\n}\n`\n\nconst Separator = styled.div`\ntext-align: center;\nmargin: 15px 0;\ncolor: #818181;\nfont-family: \"capture_it\";\n`\n\nconst users = [\n    {\n        \"name\": \"John\",\n        \"username\": \"johndoe\",\n        \"password\": \"123456\",\n        \"history\": [\n            {\n                \"date\": \"1576992633000\",\n                \"wpm\": \"20\",\n                \"cp\": \"30\"\n            }, {\n                \"date\": \"1576952634000\",\n                \"wpm\": \"10\",\n                \"cp\": \"20\"\n            }, {\n                \"date\": \"1576932635000\",\n                \"wpm\": \"30\",\n                \"cp\": \"10\"\n            }\n        ]\n    },\n    {\n        \"name\": \"Sarah\",\n        \"username\": \"sarahdoe\",\n        \"password\": \"123456\",\n        \"history\": [\n            {\n                \"date\": \"1576932633000\",\n                \"wpm\": \"30\",\n                \"cp\": \"100\"\n            }\n        ]\n    }\n]\n\ninterface Props extends RouteComponentProps {\n\n}\n\nconst Login: React.FC<Props> = () => {\n    const { register, handleSubmit, errors, setError } = useForm()\n    const onSubmit = (data: any) => {\n        const user = users.find((user) => {\n            if (\n                user.username === data.username &&\n                user.password === data.password\n            ) {\n                return user\n            }\n            return undefined\n        })\n        if (user) {\n            navigate('game', { state: user })\n        } else {\n            setError('username', 'invalidCredentials')\n            setError('password', 'invalidCredentials')\n        }\n    }\n\n    return (\n        <FormContainer>\n            <LoginForm onSubmit={handleSubmit(onSubmit)}>\n                <FormGroup>\n                    <input name=\"username\" ref={register({ required: true })} placeholder='Username' />\n                    <div className='err-msg'>{(errors.username?.type === 'required') && 'Username is required.'}</div>\n                </FormGroup>\n                <FormGroup>\n                    <input name=\"password\" ref={register({ required: true })} placeholder='Password' type='password' />\n                    <div className='err-msg'>{(errors.password?.type === 'required') && 'Password is required'}</div>\n                </FormGroup>\n                {\n                    (errors.username?.type === 'invalidCredentials') &&\n                    (errors.password?.type === 'invalidCredentials') &&\n                    <div className='err-msg'>Invalid username or password</div>\n                }\n\n                <SubmitBtn>Login</SubmitBtn>\n            </LoginForm>\n            <Separator>\n                OR\n            </Separator>\n            <PlayBtn to='game'>Play Now</PlayBtn>\n        </FormContainer>\n    )\n}\n\nexport default Login","import React from 'react'\nimport './App.css'\nimport Game from './views/Game'\nimport { Router, Redirect } from '@reach/router'\nimport History from './views/History'\nimport Login from './views/Login'\nimport styled from 'styled-components'\n\nconst GameName = styled.h1`\n  font-family: capture_it;\n  font-size: 45px;\n  font-weight: 100;\n`\n\nconst App: React.FC = () => {\n  return (\n    <div className='App' >\n      <GameName>Typing Speed</GameName>\n      <Router>\n        <Game path=\"game\" />\n        <History path=\"history/:historyId\" />\n        <Login path=\"/\" />\n        <Redirect noThrow default to=\"/\" from=\"*\" />\n      </Router>\n    </div>\n  )\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport 'normalize.css'\nimport './assets/fonts/stylesheet.css'\nimport './index.css'\nimport App from './App'\nimport * as serviceWorker from './serviceWorker'\n\nReactDOM.render(<App />, document.getElementById('root'))\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister()\n"],"sourceRoot":""}